document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".faq-question").forEach(e=>{e.addEventListener("click",()=>{const t=e.nextElementSibling,n=e.classList.contains("active");document.querySelectorAll(".faq-answer").forEach(e=>e.classList.remove("show")),document.querySelectorAll(".faq-question").forEach(e=>e.classList.remove("active")),n||(t.classList.add("show"),e.classList.add("active"))})}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href"),n=document.querySelector(t);n&&(e.preventDefault(),window.scrollTo({top:n.offsetTop-70,behavior:"smooth"}))})});const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".nav-links");e&&t&&e.addEventListener("click",()=>{t.classList.toggle("show")});const n=document.getElementById("floating-cta");function o(){const e=new Date("May 27, 2025 23:59:59").getTime()-Date.now(),t=document.getElementById("countdown");if(!t)return;if(e<=0)return void(t.innerHTML="倒數已結束！");const n=Math.floor(e/864e5),o=Math.floor(e%864e5/36e5),s=Math.floor(e%36e5/6e4),c=Math.floor(e%6e4/1e3);t.innerHTML=`\n      <div class="countdown">\n          <div class="countdown-item"><span class="countdown-number">${n}</span><span class="countdown-label">天</span></div>\n          <div class="countdown-item"><span class="countdown-number">${o}</span><span class="countdown-label">時</span></div>\n          <div class="countdown-item"><span class="countdown-number">${s}</span><span class="countdown-label">分</span></div>\n          <div class="countdown-item"><span class="countdown-number">${c}</span><span class="countdown-label">秒</span></div>\n      </div>`}n&&(n.addEventListener("click",()=>{const e=document.getElementById("auth-wrapper");e&&window.scrollTo({top:e.offsetTop-80,behavior:"smooth"})}),window.addEventListener("scroll",()=>{window.scrollY>300?n.classList.add("expanded"):n.classList.remove("expanded")})),setInterval(o,1e3),o();const s=document.querySelectorAll(".lazy-video");if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,n.classList.add("loaded"),t.unobserve(n)}})},{rootMargin:"0px 0px 200px 0px"});s.forEach(t=>e.observe(t))}else s.forEach(e=>{e.src=e.dataset.src,e.classList.add("loaded")});document.querySelectorAll("#courseTabs .nav-link").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-bs-target"),n=document.querySelector(`${t} iframe.lazy-video`);n&&!n.src&&(n.src=n.dataset.src,n.classList.add("loaded"))})}),document.querySelectorAll(".accordion-button").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-bs-target"),n=document.querySelector(`${t} iframe.lazy-video`);n&&!n.src&&(n.src=n.dataset.src,n.classList.add("loaded"))})});const c=document.getElementById("current-year");c&&(c.textContent=(new Date).getFullYear()),("ontouchstart"in window||navigator.maxTouchPoints>0)&&document.body.classList.add("touch-device")});